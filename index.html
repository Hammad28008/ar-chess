<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; }
        #loading { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; z-index: 1000; }
    </style>
</head>
<body>
    <!-- Loading message -->
    <div id="loading">Loading AR... Please allow camera access</div>
    
    <!-- AR Scene -->
    <a-scene 
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
        
        <!-- QR Code Marker #5 (Use ANY QR code with number "5") -->
        <a-marker type="barcode" value="5">
            <!-- 3D KEY Model Appears Here -->
            <a-entity
                position="0 0 0"
                rotation="0 0 0"
                scale="0.03 0.03 0.03"
                gltf-model="#keyModel">
            </a-entity>
        </a-marker>
        
        <!-- Camera -->
        <a-entity camera></a-entity>
        
    </a-scene>
    
    <!-- The Key Model (hidden) -->
    <a-assets>
        <a-asset-item id="keyModel" src="https://cdn.aframe.io/test-models/models/glTF-2.0/Box/glTF/Box.gltf"></a-asset-item>
    </a-assets>
    
    <!-- Instructions -->
    <div style="position: fixed; bottom: 20px; left: 0; right: 0; text-align: center; background: rgba(0,0,0,0.7); color: white; padding: 10px;">
        <h3>ðŸ“± How to Use:</h3>
        <p>1. <strong>Display this QR code on another device</strong></p>
        <p>2. Point your camera at it</p>
        <p>3. See the 3D key appear!</p>
        
        <div style="margin: 15px 0;">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=5" 
                 style="width: 150px; height: 150px; border: 3px solid white;">
            <p style="margin-top: 5px;"><strong>QR Code #5</strong></p>
        </div>
        
        <p><small>Works on iPhone/Android with Chrome or Safari</small></p>
    </div>
    
    <script>
        // Hide loading when scene loads
        document.querySelector('a-scene').addEventListener('loaded', function() {
            document.getElementById('loading').style.display = 'none';
        });
    </script>
</body>
</html>
